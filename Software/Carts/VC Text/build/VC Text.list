ca65 V2.18 - N/A
Main file   : ./src/VC Text.asm
Current file: ./src/VC Text.asm

000000r 1               .setcpu "65C02"
000000r 1               .segment "CODE"
000000r 1               
000000r 1               VDP_DATA   = $9C00
000000r 1               VDP_REG    = $9C01
000000r 1               
000000r 1               reset:
000000r 1  A2 FF          ldx #$ff
000002r 1  9A             txs
000003r 1               
000003r 1                 ; Initialize VDP in text mode
000003r 1  A9 00          lda #$00            ; Set mode to text
000005r 1  8D 01 9C       sta VDP_REG
000008r 1  A9 80          lda #$80
00000Ar 1  8D 01 9C       sta VDP_REG
00000Dr 1  A9 D0          lda #$D0            ; 16K, Enable Display, Disable Interrupts
00000Fr 1  8D 01 9C       sta VDP_REG
000012r 1  A9 81          lda #$81
000014r 1  8D 01 9C       sta VDP_REG
000017r 1  A9 02          lda #$02            ; Address of name table in VRAM = Hex $0800
000019r 1  8D 01 9C       sta VDP_REG
00001Cr 1  A9 82          lda #$82
00001Er 1  8D 01 9C       sta VDP_REG
000021r 1  A9 00          lda #$00            ; Address of pattern table in VRAM = Hex $0000
000023r 1  8D 01 9C       sta VDP_REG
000026r 1  A9 84          lda #$84
000028r 1  8D 01 9C       sta VDP_REG
00002Br 1  A9 F5          lda #$F5            ; White text on light blue background
00002Dr 1  8D 01 9C       sta VDP_REG
000030r 1  A9 87          lda #$87
000032r 1  8D 01 9C       sta VDP_REG
000035r 1               
000035r 1                 ; Load pattern data into VRAM
000035r 1  A9 00          lda #$00            ; Set VRAM write address to $0000
000037r 1  8D 01 9C       sta VDP_REG
00003Ar 1  A9 40          lda #$40
00003Cr 1  8D 01 9C       sta VDP_REG
00003Fr 1               
00003Fr 1  A2 00          ldx #$00
000041r 1               write_smile:
000041r 1  BD rr rr       lda smile,x
000044r 1  8D 00 9C       sta VDP_DATA
000047r 1  E8             inx
000048r 1  E0 08          cpx #$08
00004Ar 1  D0 F5          bne write_smile
00004Cr 1               
00004Cr 1                 ; Write character to name table
00004Cr 1  A9 00          lda #$00            ; Set VRAM write address to $0800
00004Er 1  8D 01 9C       sta VDP_REG
000051r 1  A9 48          lda #$48
000053r 1  8D 01 9C       sta VDP_REG
000056r 1               
000056r 1  A2 00          ldx #$00
000058r 1                 ; Fill some of the screen with smiles
000058r 1               fill:
000058r 1  A9 00          lda #$00            ; Pattern table code for smile
00005Ar 1  8D 00 9C       sta VDP_DATA
00005Dr 1  E8             inx
00005Er 1  E0 FF          cpx #$FF            ; Fill 256 characters
000060r 1  D0 F6          bne fill
000062r 1               
000062r 1               loop:
000062r 1  4C rr rr       jmp loop
000065r 1               
000065r 1               smile:
000065r 1  3C             .byte %00111100
000066r 1  42             .byte %01000010
000067r 1  A5             .byte %10100101
000068r 1  81             .byte %10000001
000069r 1  A5             .byte %10100101
00006Ar 1  99             .byte %10011001
00006Br 1  42             .byte %01000010
00006Cr 1  3C             .byte %00111100
00006Dr 1               
00006Dr 1               .segment "VECTORS"
000000r 1               
000000r 1  rr rr          .word reset
000002r 1  rr rr          .word reset
000004r 1  rr rr          .word reset
000004r 1               
